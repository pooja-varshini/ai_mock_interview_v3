.system-design-viewer {
    margin-top: 16px;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(130, 120, 200, 0.25);
    background: #0a0814;
}

.system-design-viewer__title {
    margin: 0;
    padding: 12px 16px;
    font-size: 0.95rem;
    font-weight: 600;
    color: #a78bfa;
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.15), transparent);
    border-bottom: 1px solid rgba(130, 120, 200, 0.2);
}

.system-design-viewer__canvas {
    height: 400px;
    width: 100%;
}

.system-design-viewer-empty {
    padding: 32px;
    text-align: center;
    color: rgba(255, 255, 255, 0.5);
    font-style: italic;
    background: rgba(10, 8, 20, 0.5);
    border-radius: 12px;
    border: 1px dashed rgba(130, 120, 200, 0.3);
}

/* Comparison layout for showing both diagrams */
.system-design-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-top: 16px;
}

.system-design-comparison__panel {
    min-width: 0;
}

.system-design-comparison__panel--candidate .system-design-viewer {
    border-color: rgba(251, 191, 36, 0.4);
}

.system-design-comparison__panel--candidate .system-design-viewer__title {
    color: #fbbf24;
    background: linear-gradient(90deg, rgba(251, 191, 36, 0.15), transparent);
}

.system-design-comparison__panel--suggested .system-design-viewer {
    border-color: rgba(16, 185, 129, 0.4);
}

.system-design-comparison__panel--suggested .system-design-viewer__title {
    color: #10b981;
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.15), transparent);
}

@media (max-width: 1024px) {
    .system-design-comparison {
        grid-template-columns: 1fr;
    }
    
    .system-design-viewer__canvas {
        height: 350px;
    }
}

/* ReactFlow overrides for viewer */
.system-design-viewer .react-flow__node {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

.system-design-viewer .react-flow__node-default {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
}

.system-design-viewer .react-flow__panel {
    margin: 8px;
}

.system-design-viewer .react-flow__controls {
    background: rgba(30, 30, 47, 0.9);
    border: 1px solid rgba(130, 120, 200, 0.3);
    border-radius: 8px;
}

.system-design-viewer .react-flow__controls-button {
    background: transparent;
    border-bottom: 1px solid rgba(130, 120, 200, 0.2);
    color: #a78bfa;
}

.system-design-viewer .react-flow__controls-button:hover {
    background: rgba(139, 92, 246, 0.2);
}

.system-design-viewer .react-flow__minimap {
    background: rgba(10, 8, 20, 0.9);
    border: 1px solid rgba(130, 120, 200, 0.3);
    border-radius: 8px;
}

.system-design-viewer .react-flow__edge-text {
    font-size: 11px;
}

/* Edge label styling - ensure visibility */
.system-design-viewer .react-flow__edge-textbg {
    fill: #0f0a1f !important;
    fill-opacity: 1 !important;
    rx: 6;
    ry: 6;
    stroke: #a78bfa;
    stroke-width: 1.5;
}

.system-design-viewer .react-flow__edge-text {
    font-size: 11px !important;
    fill: #ffffff !important;
    font-weight: 600;
}

/* Edge labels should appear above edges but below nodes for clean look */
.system-design-viewer .react-flow__edges {
    z-index: 1 !important;
}

.system-design-viewer .react-flow__edge-labels {
    z-index: 5 !important;
}

/* Nodes stay on top */
.system-design-viewer .react-flow__nodes {
    z-index: 10 !important;
}
